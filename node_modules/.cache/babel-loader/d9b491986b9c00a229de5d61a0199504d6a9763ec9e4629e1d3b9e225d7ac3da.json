{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from '../../components/HeaderOf1.vue';\nimport { reactive, toRefs } from 'vue';\nimport { Toast } from 'vant';\nimport { useRouter } from 'vue-router';\nexport default {\n  components: {\n    Header\n  },\n  setup() {\n    const data = reactive({\n      name: '',\n      sign: '野路子，路子就野，不改了！',\n      password: ''\n    });\n    const save = () => {\n      if (data.name && data.password) {\n        let userInfo = JSON.parse(localStorage.userInofo);\n        let newUserInfo = {\n          username: data.name || userInfo.name,\n          password: data.password || userInfo.password\n        };\n        localStorage.setItem('userInfo', JSON.stringify(newUserInfo));\n        Toast('修改成功！！！');\n        router.push('/mine');\n      } else {\n        Toast('请输入内容！！！');\n      }\n    };\n    const logOut = () => {\n      localStorage.removeItem('isLogin');\n      Toast('退出成功');\n      router.push('/login');\n    };\n    return {\n      ...toRefs(data),\n      save,\n      logOut\n    };\n  }\n};","map":{"version":3,"names":["Header","reactive","toRefs","Toast","useRouter","components","setup","data","name","sign","password","save","userInfo","JSON","parse","localStorage","userInofo","newUserInfo","username","setItem","stringify","router","push","logOut","removeItem"],"sources":["D:\\vue3-projects\\vue-waimai\\src\\views\\userInfoEdit\\UserInfoEditIndex.vue"],"sourcesContent":["<template>\r\n    <Header title=\"账号管理\" />\r\n    <div>\r\n        <van-field v-model=\"name\" label=\"昵称\" placeholder=\"请输入昵称\" />\r\n        <van-field v-model=\"sign\" label=\"个性签名\" placeholder=\"请输入个性签名\" disabled />\r\n        <van-field v-model=\"password\" label=\"密码\" placeholder=\"请输入密码\" />\r\n    </div>\r\n    <van-button type=\"primary\" color=\"#ffc400\" round block class=\"save-btn\" @click=\"save\">保存</van-button>\r\n    <van-button type=\"primary\" color=\"#ffc400\" round block class=\"save-btn\" @click=\"logOut\">退出登录</van-button>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../../components/HeaderOf1.vue';\r\nimport { reactive, toRefs } from 'vue';\r\nimport {Toast} from 'vant';\r\nimport {useRouter} from 'vue-router';\r\nexport default {\r\n    components: {\r\n        Header,\r\n    },\r\n    setup() {\r\n        const data = reactive({\r\n            name: '',\r\n            sign: '野路子，路子就野，不改了！',\r\n            password: '',\r\n        });\r\n        const save = () => {\r\n            if(data.name && data.password){\r\n                let userInfo = JSON.parse(localStorage.userInofo)\r\n                let newUserInfo = {\r\n                    username:data.name || userInfo.name,\r\n                    password:data.password || userInfo.password,\r\n                };\r\n                localStorage.setItem('userInfo',JSON.stringify(newUserInfo));\r\n                Toast('修改成功！！！');\r\n                router.push('/mine')\r\n            }else{\r\n                Toast('请输入内容！！！');\r\n            }\r\n        };\r\n        const logOut = () => {\r\n            localStorage.removeItem('isLogin');\r\n            Toast('退出成功');\r\n            router.push('/login');\r\n        };\r\n        return {\r\n            ...toRefs(data),\r\n            save,\r\n            logOut,\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// /deep/ .van-button--danger {\r\n//     background-color: #ffc400;\r\n//     border-color: #ffc400;\r\n// }\r\n\r\n.save-btn {\r\n    width: 80%;\r\n    margin: 20px auto;\r\n}\r\n</style>"],"mappings":";AAYA,OAAOA,MAAK,MAAO,gCAAgC;AACnD,SAASC,QAAQ,EAAEC,MAAK,QAAS,KAAK;AACtC,SAAQC,KAAK,QAAO,MAAM;AAC1B,SAAQC,SAAS,QAAO,YAAY;AACpC,eAAe;EACXC,UAAU,EAAE;IACRL;EACJ,CAAC;EACDM,KAAKA,CAAA,EAAG;IACJ,MAAMC,IAAG,GAAIN,QAAQ,CAAC;MAClBO,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,eAAe;MACrBC,QAAQ,EAAE;IACd,CAAC,CAAC;IACF,MAAMC,IAAG,GAAIA,CAAA,KAAM;MACf,IAAGJ,IAAI,CAACC,IAAG,IAAKD,IAAI,CAACG,QAAQ,EAAC;QAC1B,IAAIE,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,SAAS;QAChD,IAAIC,WAAU,GAAI;UACdC,QAAQ,EAACX,IAAI,CAACC,IAAG,IAAKI,QAAQ,CAACJ,IAAI;UACnCE,QAAQ,EAACH,IAAI,CAACG,QAAO,IAAKE,QAAQ,CAACF;QACvC,CAAC;QACDK,YAAY,CAACI,OAAO,CAAC,UAAU,EAACN,IAAI,CAACO,SAAS,CAACH,WAAW,CAAC,CAAC;QAC5Dd,KAAK,CAAC,SAAS,CAAC;QAChBkB,MAAM,CAACC,IAAI,CAAC,OAAO;MACvB,CAAC,MAAI;QACDnB,KAAK,CAAC,UAAU,CAAC;MACrB;IACJ,CAAC;IACD,MAAMoB,MAAK,GAAIA,CAAA,KAAM;MACjBR,YAAY,CAACS,UAAU,CAAC,SAAS,CAAC;MAClCrB,KAAK,CAAC,MAAM,CAAC;MACbkB,MAAM,CAACC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACD,OAAO;MACH,GAAGpB,MAAM,CAACK,IAAI,CAAC;MACfI,IAAI;MACJY;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}