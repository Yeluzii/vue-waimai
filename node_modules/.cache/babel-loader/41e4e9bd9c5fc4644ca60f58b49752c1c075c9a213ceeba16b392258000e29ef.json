{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport { Toast } from 'vant';\nconst routes = [{\n  path: '/',\n  component: () => import('../views/home/HomeIndex.vue')\n}, {\n  path: '/home',\n  component: () => import('../views/home/HomeIndex.vue')\n}, {\n  path: '/order',\n  component: () => import('../views/order/OrderIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/mine',\n  component: () => import('../views/mine/MineIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/cart',\n  component: () => import('../views/cart/CartIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/store',\n  component: () => import('../views/store/StoreIndex.vue')\n}, {\n  path: '/createOrder',\n  component: () => import('../views/createOrder/CreateOrderIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/address',\n  component: () => import('../views/address/AddressIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/addressEdit',\n  component: () => import('../views/addressEdit/addressEditIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/userInfoEdit',\n  component: () => import('../views/userInfoEdit/UserInfoEditIndex.vue'),\n  meta: {\n    isAuth: true\n  }\n}, {\n  path: '/login',\n  component: () => import('../views/login/LoginIndex.vue')\n}, {\n  path: '/register',\n  component: () => import('../views/register/RegisterIndex.vue')\n}];\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.isAuth) {\n    // 登录以后，会在localstorage中存储一个标识\n    // 验证是否登录\n    const token = localStorage.isLogin;\n    if (token === 'login') {\n      next();\n    } else {\n      next('/login');\n      Toast('请先登录');\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","Toast","routes","path","component","meta","isAuth","router","history","beforeEach","to","from","next","token","localStorage","isLogin"],"sources":["D:/vue3-projects/vue-waimai/src/router/index.js"],"sourcesContent":["import {createRouter,createWebHashHistory} from 'vue-router';\r\nimport {Toast} from 'vant';\r\n\r\nconst routes = [\r\n    {\r\n        path:'/',\r\n        component:()=>import('../views/home/HomeIndex.vue')\r\n    },\r\n    {\r\n        path:'/home',\r\n        component:()=>import('../views/home/HomeIndex.vue')\r\n    },\r\n    {\r\n        path:'/order',\r\n        component:()=>import('../views/order/OrderIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path:'/mine',\r\n        component:()=>import('../views/mine/MineIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path:'/cart',\r\n        component:()=>import('../views/cart/CartIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path: '/store',\r\n        component: () => import('../views/store/StoreIndex.vue')\r\n    },\r\n    {\r\n        path: '/createOrder',\r\n        component: () => import('../views/createOrder/CreateOrderIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path: '/address',\r\n        component: () => import('../views/address/AddressIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path: '/addressEdit',\r\n        component: () => import('../views/addressEdit/addressEditIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path: '/userInfoEdit',\r\n        component: () => import('../views/userInfoEdit/UserInfoEditIndex.vue'),\r\n        meta:{\r\n            isAuth:true,\r\n        }\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: () => import('../views/login/LoginIndex.vue')\r\n    },\r\n    {\r\n        path: '/register',\r\n        component: () => import('../views/register/RegisterIndex.vue')\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history:createWebHashHistory(),\r\n    routes,\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.meta.isAuth) {\r\n        // 登录以后，会在localstorage中存储一个标识\r\n        // 验证是否登录\r\n        const token = localStorage.isLogin;\r\n        if (token === 'login') {\r\n            next()\r\n        } else {\r\n            next('/login')\r\n            Toast('请先登录')\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n \r\n})\r\n\r\nexport default router"],"mappings":"AAAA,SAAQA,YAAY,EAACC,oBAAoB,QAAO,YAAY;AAC5D,SAAQC,KAAK,QAAO,MAAM;AAE1B,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAC,GAAG;EACRC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,6BAA6B;AACtD,CAAC,EACD;EACID,IAAI,EAAC,OAAO;EACZC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,6BAA6B;AACtD,CAAC,EACD;EACID,IAAI,EAAC,QAAQ;EACbC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,+BAA+B,CAAC;EACrDC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAC,OAAO;EACZC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,6BAA6B,CAAC;EACnDC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAC,OAAO;EACZC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,6BAA6B,CAAC;EACnDC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAA+B;AAC3D,CAAC,EACD;EACID,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2CAA2C,CAAC;EACpEC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mCAAmC,CAAC;EAC5DC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2CAA2C,CAAC;EACpEC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6CAA6C,CAAC;EACtEC,IAAI,EAAC;IACDC,MAAM,EAAC;EACX;AACJ,CAAC,EACD;EACIH,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAA+B;AAC3D,CAAC,EACD;EACID,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,qCAAqC;AACjE,CAAC,CACJ;AAED,MAAMG,MAAM,GAAGR,YAAY,CAAC;EACxBS,OAAO,EAACR,oBAAoB,CAAC,CAAC;EAC9BE;AACJ,CAAC,CAAC;AAEFK,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,IAAIF,EAAE,CAACL,IAAI,CAACC,MAAM,EAAE;IAChB;IACA;IACA,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO;IAClC,IAAIF,KAAK,KAAK,OAAO,EAAE;MACnBD,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC;MACdX,KAAK,CAAC,MAAM,CAAC;IACjB;EACJ,CAAC,MAAM;IACHW,IAAI,CAAC,CAAC;EACV;AAEJ,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}