{"ast":null,"code":"import Header from '../../components/HeaderOf1.vue';\nimport { reactive, toRefs, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  components: {\n    Header\n  },\n  setup() {\n    const data = reactive({\n      tel: '1234567890X',\n      name: 'Yeluzi',\n      totalPrice: 0\n    });\n    const store = useStore();\n    const onEdit = () => {};\n    const initPrice = () => {\n      let price = 0;\n      if (store.state.orderList.length) {\n        store.state.orderList.forEach(item => {\n          price += item.price * item.num;\n        });\n      }\n      data.totalPrice = price;\n    };\n    onMounted(() => {\n      initPrice();\n    });\n    return {\n      ...toRefs(data),\n      onEdit,\n      store\n    };\n  }\n};","map":{"version":3,"names":["Header","reactive","toRefs","onMounted","useStore","components","setup","data","tel","name","totalPrice","store","onEdit","initPrice","price","state","orderList","length","forEach","item","num"],"sources":["D:\\vue3-projects\\vue-waimai\\src\\views\\createOrder\\CreateOrderIndex.vue"],"sourcesContent":["<template>\r\n    <div class=\"create-order\">\r\n        <Header title=\"生成订单\" />\r\n        <van-contact-card type=\"edit\" :tel=\"tel\" :name=\"name\" @click=\"onEdit\" />\r\n        <div class=\"content\">\r\n            <div v-for=\"(item, index) in store.state.orderList\"  :key=\"index\">\r\n                <van-card \r\n                :num=\"item.num\" \r\n                :price=\"item.price\" \r\n                :title=\"item.title\"\r\n                :thumb=\"item.pic\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"pay-wrap\">\r\n            <div class=\"price\">\r\n                <span>商品金额</span>\r\n                <span>￥{{totalPrice}}</span>\r\n            </div>\r\n            <van-button type=\"primary\" class=\"pay-btn\" block color=\"#ffc400\">生成订单</van-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../../components/HeaderOf1.vue';\r\nimport { reactive, toRefs ,onMounted} from 'vue';\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n    components: {\r\n        Header,\r\n    },\r\n    setup() {\r\n        const data = reactive({\r\n            tel: '1234567890X',\r\n            name: 'Yeluzi',\r\n            totalPrice:0\r\n        });\r\n        const store = useStore();\r\n        const onEdit = () => { }\r\n        const initPrice = () => {\r\n            let price = 0;\r\n            if(store.state.orderList.length){\r\n                store.state.orderList.forEach((item) => {\r\n                    price += item.price * item.num;\r\n                });\r\n            }\r\n            data.totalPrice = price;\r\n        };\r\n        onMounted(() => {\r\n            initPrice();\r\n        });\r\n        return {\r\n            ...toRefs(data),\r\n            onEdit,\r\n            store\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.create-order {\r\n    display: flex;\r\n    flex-flow: column;\r\n    height: 100%;\r\n\r\n    .content {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .pay-wrap {\r\n        padding: 10px 0;\r\n        width: 100%;\r\n        background: #fff;\r\n        border-top: 1px solid #e9e9e9;\r\n\r\n        >div {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            padding: 0 5%;\r\n            margin: 10px 0;\r\n            font-size: 14px;\r\n\r\n            span:nth-child(2) {\r\n                color: red;\r\n                font-size: 18px;\r\n            }\r\n        }\r\n\r\n        .pay-btn {\r\n            width: 90%;\r\n            margin: 0 auto;\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":"AAwBA,OAAOA,MAAK,MAAO,gCAAgC;AACnD,SAASC,QAAQ,EAAEC,MAAK,EAAGC,SAAS,QAAO,KAAK;AAChD,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACXC,UAAU,EAAE;IACRL;EACJ,CAAC;EACDM,KAAKA,CAAA,EAAG;IACJ,MAAMC,IAAG,GAAIN,QAAQ,CAAC;MAClBO,GAAG,EAAE,aAAa;MAClBC,IAAI,EAAE,QAAQ;MACdC,UAAU,EAAC;IACf,CAAC,CAAC;IACF,MAAMC,KAAI,GAAIP,QAAQ,CAAC,CAAC;IACxB,MAAMQ,MAAK,GAAIA,CAAA,KAAM,CAAE;IACvB,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACpB,IAAIC,KAAI,GAAI,CAAC;MACb,IAAGH,KAAK,CAACI,KAAK,CAACC,SAAS,CAACC,MAAM,EAAC;QAC5BN,KAAK,CAACI,KAAK,CAACC,SAAS,CAACE,OAAO,CAAEC,IAAI,IAAK;UACpCL,KAAI,IAAKK,IAAI,CAACL,KAAI,GAAIK,IAAI,CAACC,GAAG;QAClC,CAAC,CAAC;MACN;MACAb,IAAI,CAACG,UAAS,GAAII,KAAK;IAC3B,CAAC;IACDX,SAAS,CAAC,MAAM;MACZU,SAAS,CAAC,CAAC;IACf,CAAC,CAAC;IACF,OAAO;MACH,GAAGX,MAAM,CAACK,IAAI,CAAC;MACfK,MAAM;MACND;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}