{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, toRefs } from 'vue';\nimport Header from '../../components/HeaderOf1.vue';\nimport FoodList from './components/FoodList.vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nexport default {\n  components: {\n    Header,\n    FoodList\n  },\n  setup() {\n    let store = useStore();\n    let router = useRouter();\n    let data = reactive({\n      title: \"鱼拿酸菜鱼\",\n      img: 'https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440',\n      storeData: [{\n        name: \"点菜\",\n        data: {\n          content: \"点菜\",\n          items: [{\n            text: \"热销套餐\",\n            children: [{\n              pic: \"https://ts1.cn.mm.bing.net/th/id/R-C.47b69611b2606be1710a76ba2fabd904?rik=29wSaO0%2fqd0QWw&riu=http%3a%2f%2fimg.qqjm.com%2f2019%2f01%2f168829ABA54.jpg&ehk=WVcj4x4CIHO9AlFL2PDl%2fcZE9x3T9Jp0bovqDpXDCEU%3d&risl=&pid=ImgRaw&r=0\",\n              title: \"隆江猪脚饭\",\n              num: 0,\n              price: 25.0,\n              id: 0,\n              add: true\n            }, {\n              pic: \"https://ts1.cn.mm.bing.net/th/id/R-C.47b69611b2606be1710a76ba2fabd904?rik=29wSaO0%2fqd0QWw&riu=http%3a%2f%2fimg.qqjm.com%2f2019%2f01%2f168829ABA54.jpg&ehk=WVcj4x4CIHO9AlFL2PDl%2fcZE9x3T9Jp0bovqDpXDCEU%3d&risl=&pid=ImgRaw&r=0\",\n              title: \"隆江猪脚饭\",\n              num: 0,\n              price: 25.0,\n              id: 1,\n              add: true\n            }]\n          }, {\n            text: \"超级折扣\",\n            children: [{\n              pic: \"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440\",\n              title: \"无骨酸菜鱼+肥牛双拼\",\n              num: 0,\n              price: 25.0,\n              id: 5,\n              add: true\n            }, {\n              pic: \"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440\",\n              title: \"香辣水煮鱼+肥牛双拼\",\n              num: 0,\n              price: 25.0,\n              id: 6,\n              add: true\n            }]\n          }]\n        }\n      }, {\n        name: \"评价\",\n        data: {\n          content: \"评价\"\n        }\n      }, {\n        name: \"商家\",\n        data: {\n          content: \"商家\"\n        }\n      }]\n    });\n    const handleAddCart = type => {\n      const newList = [];\n      data.storeData.forEach(item => {\n        item.data.items?.forEach(item => {\n          item.children.forEach(item => {\n            if (item.num > 0) {\n              newList.push(item);\n            }\n          });\n        });\n      });\n      if (newList.length === 0) {\n        Toast('没选商品,购买个der啊!');\n        return;\n      }\n      store.commit(\"addCart\", newList);\n      type === \"buy\" ? goCart() : \"\";\n    };\n    const goCart = () => {\n      router.push(\"/cart\");\n    };\n    const goBuy = () => {\n      handleAddCart(\"buy\");\n    };\n    return {\n      handleAddCart,\n      ...toRefs(data),\n      store,\n      goCart,\n      goBuy\n    };\n  }\n};","map":{"version":3,"names":["reactive","toRefs","Header","FoodList","useStore","useRouter","Toast","components","setup","store","router","data","title","img","storeData","name","content","items","text","children","pic","num","price","id","add","handleAddCart","type","newList","forEach","item","push","length","commit","goCart","goBuy"],"sources":["D:\\vue3-projects\\vue-waimai\\src\\views\\store\\StoreIndex.vue"],"sourcesContent":["<template>\r\n    <div class=\"storeDetails\">\r\n        <Header title=\"店铺\"></Header>\r\n        <div class=\"content\">\r\n            <div class=\"img\"></div>\r\n            <div class=\"foodSort\">\r\n                <div class=\"name\">\r\n                    {{ title }}\r\n                    <img :src=\"img\" alt=\"\" class=\"store-img\">\r\n                </div>\r\n                <van-tabs color=\"#ffc400\">\r\n                    <van-tab v-for=\"(item, index) in storeData\" :title=\"item.name\" :key=\"index\">\r\n                        <FoodList :index=\"index\" :foodData=\"item.data\" />\r\n                    </van-tab>\r\n                </van-tabs>\r\n            </div>\r\n        </div>\r\n        <van-action-bar>\r\n            <van-action-bar-icon icon=\"chat-o\" text=\"客服\" dot />\r\n            <van-action-bar-icon icon=\"cart-o\" text=\"购物车\" :badge=\"store.state.cartList.length\" @click=\"goCart\" />\r\n            <van-action-bar-button type=\"warning\" text=\"加入购物车\" @click=\"handleAddCart\" />\r\n            <van-action-bar-button type=\"danger\" text=\"立即购买\" @click=\"goBuy\" />\r\n        </van-action-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport Header from '../../components/HeaderOf1.vue';\r\nimport FoodList from './components/FoodList.vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n    components: {\r\n        Header,\r\n        FoodList,\r\n    },\r\n    setup() {\r\n        let store = useStore()\r\n        let router = useRouter()\r\n        let data = reactive({\r\n            title: \"鱼拿酸菜鱼\",\r\n            img: 'https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440',\r\n\r\n            storeData: [\r\n                {\r\n                    name: \"点菜\",\r\n                    data: {\r\n                        content: \"点菜\",\r\n                        items: [\r\n                            {\r\n                                text: \"热销套餐\",\r\n                                children: [\r\n                                    {\r\n                                        pic: \"https://ts1.cn.mm.bing.net/th/id/R-C.47b69611b2606be1710a76ba2fabd904?rik=29wSaO0%2fqd0QWw&riu=http%3a%2f%2fimg.qqjm.com%2f2019%2f01%2f168829ABA54.jpg&ehk=WVcj4x4CIHO9AlFL2PDl%2fcZE9x3T9Jp0bovqDpXDCEU%3d&risl=&pid=ImgRaw&r=0\",\r\n                                        title: \"隆江猪脚饭\",\r\n                                        num: 0,\r\n                                        price: 25.0,\r\n                                        id: 0,\r\n                                        add: true,\r\n                                    },\r\n                                    {\r\n                                        pic: \"https://ts1.cn.mm.bing.net/th/id/R-C.47b69611b2606be1710a76ba2fabd904?rik=29wSaO0%2fqd0QWw&riu=http%3a%2f%2fimg.qqjm.com%2f2019%2f01%2f168829ABA54.jpg&ehk=WVcj4x4CIHO9AlFL2PDl%2fcZE9x3T9Jp0bovqDpXDCEU%3d&risl=&pid=ImgRaw&r=0\",\r\n                                        title: \"隆江猪脚饭\",\r\n                                        num: 0,\r\n                                        price: 25.0,\r\n                                        id: 1,\r\n                                        add: true,\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                text: \"超级折扣\",\r\n                                children: [\r\n                                    {\r\n                                        pic: \"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440\",\r\n                                        title: \"无骨酸菜鱼+肥牛双拼\",\r\n                                        num: 0,\r\n                                        price: 25.0,\r\n                                        id: 5,\r\n                                        add: true,\r\n                                    },\r\n                                    {\r\n                                        pic: \"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440\",\r\n                                        title: \"香辣水煮鱼+肥牛双拼\",\r\n                                        num: 0,\r\n                                        price: 25.0,\r\n                                        id: 6,\r\n                                        add: true,\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                },\r\n                {\r\n                    name: \"评价\",\r\n                    data: {\r\n                        content: \"评价\",\r\n                    },\r\n                },\r\n                {\r\n                    name: \"商家\",\r\n                    data: {\r\n                        content: \"商家\",\r\n                    },\r\n                },\r\n            ],\r\n        });\r\n\r\n        const handleAddCart = (type) => {\r\n            const newList = []\r\n            data.storeData.forEach(item => {\r\n                item.data.items?.forEach(item => {\r\n                    item.children.forEach(item => {\r\n                        if (item.num > 0) {\r\n                            newList.push(item);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n            if (newList.length === 0) {\r\n                Toast('没选商品,购买个der啊!');\r\n                return;\r\n            }\r\n            store.commit(\"addCart\", newList);\r\n            type === \"buy\" ? goCart() : \"\";\r\n        };\r\n\r\n        const goCart = () => {\r\n            router.push(\"/cart\")\r\n        };\r\n\r\n        const goBuy = () => {\r\n            handleAddCart(\"buy\")\r\n        };\r\n\r\n        return {\r\n            handleAddCart,\r\n            ...toRefs(data),\r\n            store,\r\n            goCart,\r\n            goBuy,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.storeDetails {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column;\r\n\r\n    .content {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n\r\n        .img {\r\n            background: url(\"../../assets/yuna.jpg\") no-repeat center/cover;\r\n            width: 100%;\r\n            height: 150px;\r\n        }\r\n\r\n        .foodSort {\r\n            height: 500px;\r\n            background-color: #fff;\r\n            margin-top: -30px;\r\n            border-radius: 20px 20px 0 0;\r\n\r\n            .sort {\r\n                margin-top: 10px;\r\n            }\r\n\r\n            .name {\r\n                display: flex;\r\n                padding: 20px;\r\n                justify-content: space-between;\r\n\r\n                .store-img {\r\n                    width: 80px;\r\n                    height: 80px;\r\n                    border-radius: 10px;\r\n                    margin-top: -30px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}