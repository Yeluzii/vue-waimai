{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4347d6bd\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"food-list\"\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FoodListItem = _resolveComponent(\"FoodListItem\");\n  const _component_van_tree_select = _resolveComponent(\"van-tree-select\");\n  return $props.index === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_tree_select, {\n    \"main-active-index\": _ctx.activeIndex,\n    \"onUpdate:mainActiveIndex\": _cache[0] || (_cache[0] = $event => _ctx.activeIndex = $event),\n    height: \"88vw\",\n    items: _ctx.items,\n    onClickNav: $setup.navClick\n  }, {\n    content: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.subItem, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"item-bg\"\n      }, [_createVNode(_component_FoodListItem, {\n        item: item,\n        handleAdd: _ctx.handleAdd,\n        \"\\\"\": \"\"\n      }, null, 8 /* PROPS */, [\"item\", \"handleAdd\"])]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"main-active-index\", \"items\", \"onClickNav\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString($props.foodData.content), 1 /* TEXT */));\n}","map":{"version":3,"names":["key","class","$props","index","_createElementBlock","_hoisted_1","_createVNode","_component_van_tree_select","_ctx","activeIndex","_cache","$event","height","items","onClickNav","$setup","navClick","content","_withCtx","_Fragment","_renderList","subItem","item","_component_FoodListItem","handleAdd","_","_hoisted_2","_toDisplayString","foodData"],"sources":["D:\\vue3-projects\\vue-waimai\\src\\views\\store\\components\\FoodList.vue"],"sourcesContent":["<template>\r\n  <div class=\"food-list\" v-if=\"index === 0\">\r\n    <van-tree-select v-model:main-active-index=\"activeIndex\" height=\"88vw\" :items=\"items\" @click-nav=\"navClick\">\r\n      <template #content>\r\n        <div v-for=\"(item, index) in subItem\" :key=\"index\" class=\"item-bg\">\r\n          <FoodListItem :item=\"item\" :handleAdd=\"handleAdd\"\" />\r\n        </div>\r\n      </template>\r\n    </van-tree-select>\r\n  </div>\r\n\r\n  <div v-else>\r\n    {{ foodData.content }}\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport FoodListItem from \"./FoodListItem.vue\";\r\nexport default {\r\n  props: [\"index\", \"foodData\"],\r\n  components: {\r\n    FoodListItem,\r\n  },\r\n  setup(props) {\r\n    let data = reactive({\r\n      activeIndex: 0,\r\n      items: [],\r\n      subItem: []\r\n    });\r\n\r\n    // console.log('Items:', data.items);\r\n\r\n    // 初始化数据\r\n\r\n    // const initData = () => {\r\n    //   if (props.foodData && props.foodData.items) {\r\n    //     props.foodData.items.forEach((item) => {\r\n    //       newArray.push({\r\n    //         text: item.text\r\n    //       })\r\n    //     })\r\n    //   }\r\n    //   data.items = newArray;\r\n    // }   \r\n\r\n    const initData = () => {\r\n      // 定义 newArray\r\n      let newArray = [];\r\n      props.foodData?.items?.forEach((item, index) => {\r\n        newArray.push({\r\n          text: item.text\r\n        })\r\n        if (data.activeIndex === index) {\r\n          data.subItem = item.children;\r\n        }\r\n      })\r\n      data.items = newArray;\r\n    }\r\n    // 写完调用一下\r\n    initData();\r\n\r\n    const navClick = (i) => {\r\n      console.log(i);\r\n      data.activeIndex = i;\r\n      initData();\r\n    };\r\n\r\n    return {\r\n      ...toRefs(data),\r\n      navClick,\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.food-list {\r\n  margin-top: 20px;\r\n\r\n  .item-bg {\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n/deep/ .van-tree-select__item--active {\r\n  color: #ffc400;\r\n}\r\n\r\n/deep/ .van-sidebar-item--select::before {\r\n  background-color: #ffc400;\r\n}\r\n</style>\r\n"],"mappings":";;;EAAAA,GAAA;EACOC,KAAK,EAAC;;;EADbD,GAAA;AAAA;;;;SAC+BE,MAAA,CAAAC,KAAK,U,cAAlCC,mBAAA,CAQM,OARNC,UAQM,GAPJC,YAAA,CAMkBC,0BAAA;IANO,mBAAiB,EAAEC,IAAA,CAAAC,WAAW;IAF3D,4BAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEgDH,IAAA,CAAAC,WAAW,GAAAE,MAAA;IAAEC,MAAM,EAAC,MAAM;IAAEC,KAAK,EAAEL,IAAA,CAAAK,KAAK;IAAGC,UAAS,EAAEC,MAAA,CAAAC;;IACrFC,OAAO,EAAAC,QAAA,CACX,MAAgC,E,kBAArCd,mBAAA,CAEMe,SAAA,QANdC,WAAA,CAIqCZ,IAAA,CAAAa,OAAO,EAJ5C,CAIqBC,IAAI,EAAEnB,KAAK;2BAAxBC,mBAAA,CAEM;QAFiCJ,GAAG,EAAEG,KAAK;QAAEF,KAAK,EAAC;UACvDK,YAAA,CAAqDiB,uBAAA;QAAtCD,IAAI,EAAEA,IAAI;QAAGE,SAAS,EAAEhB,IAAA,CAAAgB,SAAS;QAAC,IAAC,EAAD;;;IAL3DC,CAAA;sFAWErB,mBAAA,CAEM,OAbRsB,UAAA,EAAAC,gBAAA,CAYOzB,MAAA,CAAA0B,QAAQ,CAACX,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}